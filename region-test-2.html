<!doctype html>
<html>
    <head>
        <title>CSS Regions - polyfill test</title>
        <style>
            html { overflow-y: scroll; }
            #region1 {
                background: yellow; color: red;
                max-height: 100px;
            }
            #region2 {
                background: yellow; color: red;
                max-height: 100px;
            }
            #region3 {
                background: yellow; color: red;
                max-height: 100px;
            }
            
            [data-css-special-continued-fragment] { 
                margin-bottom: 0px !important;
            }
            
            [data-css-continued-fragment] { 
                margin-bottom: 0px !important;
                padding-bottom: 0px !important;
                border-bottom: none !important;
                border-bottom-left-radius: 0px !important;
                border-bottom-right-radius: 0px !important;
            }
            
            [data-css-continued-fragment]::after {
                content: "" !important;
                display: none !important;
            }
            
            [data-css-special-starting-fragment] { 
                margin-top: 0px !important;
            }
            
            [data-css-starting-fragment] { 
                margin-top: 0px !important;
                padding-top: 0px !important;
                border-top: none !important;
                border-top-left-radius: 0px !important;
                border-top-right-radius: 0px !important;
            }
            
            [data-css-starting-fragment]::before {
                content: "" !important;
                display: none !important;
            }
            
        </style>
        <script>
            
        </script>
    </head>
    <body>
        <div id='content' style='display: none'>
            <div style="background: lime; margin: 25px; border: 25px green solid; padding: 25px; text-align: center;">Some content</div>
        </div>
        
        <div id="region1"></div>
        <hr/>
        <div id="region2"></div>
        <hr/>
        <div id="region3"></div>
        
        <script src="j/range-extensions.js"></script>
        <script src="j/css-break.js"></script>
        <script src="j/css-regions.js"></script>
        <script>
            
            window.onload = function() {
                
                var contentRange = document.createRange();
                contentRange.selectNodeContents(document.getElementById("content"));
                
                cssRegions.layoutContent(
                    [
                        document.getElementById("region3"),
                        document.getElementById("region2"),
                        document.getElementById("region1"),
                    ],
                    contentRange.cloneContents()
                );
                
            }
            
        </script>
    </body>
</html>