<!doctype html>
<html>
    <head>
        <title>CSS Regions - polyfill test</title>
        <style>
            html { overflow-y: scroll; }
            #region1 {
                background: yellow; color: red;
                max-height: 50px;
            }
            #region2 {
                background: yellow; color: red;
                max-height: 100px;
            }
            #region3 {
                background: yellow; color: red;
                max-height: 50px;
            }
        </style>
        <script>
            
        </script>
    </head>
    <body>
        <script>
            // generate some content
            document.write("<div id='content' style='display: none'>");
            for(var i=10; i; i--) {
                document.write("<p>");
                for(var j=200; j; j--) {
                    document.write(j+' ')
                }
                document.write("</p>");
            }
            document.write("</div>");
        </script>
        
        <div id="region1"></div>
        <hr/>
        <div id="region2"></div>
        <hr/>
        <div id="region3"></div>
        
        <script src="j/region-fill.js"></script>
        <script>
            
            var contentRange = document.createRange();
            contentRange.selectNodeContents(document.getElementById("content"));
            
            cssRegions.layoutContent(
                [
                    document.getElementById("region3"),
                    document.getElementById("region2"),
                    document.getElementById("region1"),
                ],
                contentRange.cloneContents()
            );
            
        </script>
    </body>
</html>